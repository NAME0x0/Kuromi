<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>UPGRADE TO YOUR FUTURE</title>
    <meta name="description" content="Upgrade your future. One signal at a time.">
    <link rel="icon" type="image/png" href="assets/favicon.png">
    <link rel="apple-touch-icon" href="assets/favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Jost:wght@300;400;500;600&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Syncopate:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
    <style>
        :root {
            --bg-deep: #050505;
            --bg-glow: #1a0b2e;
            --accent: #7b2cbf;
            --accent-light: #e0aaff;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.04);
            --glass-border: rgba(255, 255, 255, 0.08);
            --radius: clamp(16px, 4vw, 24px);
            --space: clamp(1rem, 4vw, 2rem);
        }

        *, *::before, *::after {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            font-size: 16px;
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Jost', system-ui, sans-serif;
            background: var(--bg-deep);
            /* For background picture testing */
            /* background: url('assets/Starry_sky.jpg') no-repeat center center fixed; */
            background-size: cover;
            color: var(--white);
            min-height: 100dvh;
            overflow-x: hidden;
            line-height: 1.6;
        }

        /* Animated gradient background */
        .bg-layer {
            position: fixed;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 50% 0%, var(--bg-glow) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 100%, rgba(123, 44, 191, 0.15) 0%, transparent 50%),
                var(--bg-deep);
            z-index: -2;
        }
        /* For background picture testing */
        /*
        .bg-layer {
            display: none;
        }
        */

        /* Floating orbs */
        
        .orb {
            position: fixed;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            pointer-events: none;
            z-index: -1;
            animation: float 20s ease-in-out infinite;
        }
        .orb-1 {
            width: 300px;
            height: 300px;
            background: var(--accent);
            top: 10%;
            left: -5%;
            animation-delay: 0s;
        }
        .orb-2 {
            width: 200px;
            height: 200px;
            background: var(--accent-light);
            bottom: 20%;
            right: -3%;
            animation-delay: -7s;
        }
        .orb-3 {
            width: 150px;
            height: 150px;
            background: var(--accent);
            top: 60%;
            left: 30%;
            animation-delay: -14s;
        }
        /* Only for picture testing */
        /*
        .orb {
            display: none;
        }
        */

        @keyframes float {
            0%, 100% { transform: translate(0, 0) scale(1); }
            25% { transform: translate(30px, -20px) scale(1.05); }
            50% { transform: translate(-20px, 30px) scale(0.95); }
            75% { transform: translate(20px, 20px) scale(1.02); }
        }

        /* Main layout */
        main {
            display: grid;
            place-items: center;
            min-height: 100dvh;
            padding: var(--space);
            padding-bottom: calc(var(--space) + 80px);
        }

        .scene {
            width: 100%;
            max-width: 900px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space);
        }

        /* Title */
        .headline {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.85rem, 3.5vw, 1.5rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            text-align: center;
            background: linear-gradient(135deg, var(--accent-light), var(--white), var(--accent));
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            opacity: 0;
            transform: translateY(-10px);
            animation: fadeIn 1s ease 0.3s forwards;
        }

        @keyframes fadeIn {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Card base */
        .card {
            width: 100%;
            max-width: 480px;
            background: var(--glass);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: clamp(1.5rem, 5vw, 2.5rem);
            box-shadow: 
                0 4px 24px rgba(0, 0, 0, 0.4),
                0 0 0 1px rgba(255, 255, 255, 0.02) inset;
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        /* Initial card */
        #initCard {
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            gap: 1.5rem;
        }

        #initCard.hidden {
            opacity: 0;
            transform: scale(0.95) translateY(-20px);
            pointer-events: none;
            position: absolute;
        }

        .message {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: clamp(1.25rem, 4vw, 1.75rem);
            line-height: 1.5;
            min-height: 3em;
        }

        .upgrade-hint {
            font-size: clamp(0.9rem, 2.5vw, 1.05rem);
            color: rgba(255, 255, 255, 0.7);
            border-top: 1px solid var(--glass-border);
            padding-top: 1.25rem;
            width: 100%;
        }

        .upgrade-hint strong {
            display: block;
            color: var(--accent-light);
            font-family: 'Syncopate', sans-serif;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        /* CTA Button */
        .cta {
            position: relative;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 1rem 2.5rem;
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.65rem, 2vw, 0.8rem);
            font-weight: 700;
            letter-spacing: 0.15em;
            text-transform: uppercase;
            color: var(--white);
            background: linear-gradient(135deg, rgba(123, 44, 191, 0.3), rgba(224, 170, 255, 0.1));
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 100px;
            cursor: pointer;
            overflow: hidden;
            transition: all 0.3s ease;
        }

        .cta::before {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .cta span {
            position: relative;
            z-index: 1;
        }

        .cta:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 32px rgba(123, 44, 191, 0.4);
            border-color: rgba(255, 255, 255, 0.25);
        }

        .cta:hover::before {
            opacity: 0.2;
        }

        .cta:active {
            transform: translateY(0);
        }

        /* Final stage */
        #finalStage {
            display: none;
            width: 100%;
            max-width: 900px;
            gap: var(--space);
            opacity: 0;
            transform: translateY(20px);
        }

        #finalStage.visible {
            display: grid;
            grid-template-columns: 1fr;
            animation: slideUp 0.8s ease 0.2s forwards;
        }

        @keyframes slideUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Both containers equal */
        .panel {
            border-radius: var(--radius);
            overflow: hidden;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
        }

        .panel-image {
            width: 100%;
            aspect-ratio: 16 / 10;
        }

        .panel-image a {
            display: block;
            width: 100%;
            height: 100%;
            cursor: pointer;
        }

        .panel-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            transition: transform 0.3s ease, filter 0.3s ease;
        }

        .panel-image a:hover img {
            transform: scale(1.02);
            filter: brightness(1.1);
        }

        .panel-links {
            aspect-ratio: 16 / 10;
            background: var(--glass);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: clamp(1rem, 3vw, 1.5rem);
            padding: var(--space);
            text-align: center;
        }

        .panel-links h2 {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: clamp(1rem, 3vw, 1.4rem);
            font-weight: 400;
            line-height: 1.4;
            max-width: 280px;
        }

        .link {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.6rem, 2vw, 0.75rem);
            font-weight: 700;
            letter-spacing: 0.12em;
            text-transform: uppercase;
            color: var(--accent-light);
            text-decoration: none;
            padding-bottom: 4px;
            border-bottom: 1px solid var(--accent-light);
            transition: all 0.3s ease;
        }

        .link:hover {
            color: var(--white);
            border-color: var(--white);
        }

        /* Desktop: side by side */
        @media (min-width: 700px) {
            #finalStage.visible {
                grid-template-columns: 1fr 1fr;
            }

            .panel-image,
            .panel-links {
                aspect-ratio: 4 / 3;
            }
        }

        /* Footer */
        footer {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            z-index: 50;
        }

        .footer-label {
            font-size: 0.65rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: rgba(255, 255, 255, 0.4);
            transition: opacity 0.5s ease;
        }

        .footer-label.hidden {
            opacity: 0;
        }

        .socials {
            display: flex;
            gap: 0.75rem;
        }

        .socials a {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            color: rgba(255, 255, 255, 0.5);
            transition: color 0.3s ease, transform 0.3s ease;
        }

        .socials a:hover {
            color: var(--white);
            transform: translateY(-2px);
        }

        .socials svg {
            width: 20px;
            height: 20px;
        }

        /* Share to Instagram button */
        .share-btn {
            display: none;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            margin-top: 0.5rem;
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.55rem, 1.8vw, 0.7rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--white);
            background: linear-gradient(135deg, rgba(26, 11, 46, 0.9), rgba(123, 44, 191, 0.8));
            border: 1px solid rgba(224, 170, 255, 0.3);
            border-radius: 100px;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            box-shadow: 0 0 15px rgba(123, 44, 191, 0.3), inset 0 0 20px rgba(224, 170, 255, 0.05);
        }

        .share-btn::before {
            content: '';
            position: absolute;
            inset: -1px;
            border-radius: 100px;
            background: linear-gradient(135deg, var(--accent), var(--accent-light), var(--accent));
            background-size: 200% 200%;
            animation: glow-pulse 3s ease-in-out infinite;
            z-index: -1;
            opacity: 0.5;
        }

        @keyframes glow-pulse {
            0%, 100% { 
                background-position: 0% 50%;
                opacity: 0.3;
            }
            50% { 
                background-position: 100% 50%;
                opacity: 0.6;
            }
        }

        .share-btn.visible {
            display: inline-flex;
        }

        .share-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 30px rgba(123, 44, 191, 0.5), 0 0 40px rgba(224, 170, 255, 0.2);
            border-color: var(--accent-light);
            background: linear-gradient(135deg, rgba(26, 11, 46, 1), rgba(123, 44, 191, 0.9));
        }

        .share-btn:hover::before {
            opacity: 0.8;
        }

        .share-btn:active {
            transform: translateY(0);
        }

        .share-btn svg {
            width: 18px;
            height: 18px;
        }

        /* Share overlay for screenshot */
        .share-overlay {
            position: fixed;
            inset: 0;
            background: var(--bg-deep);
            z-index: 1000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space);
        }

        .share-overlay.active {
            display: flex;
        }

        .share-overlay .bg-layer-clone {
            position: absolute;
            inset: 0;
            background: 
                radial-gradient(ellipse 80% 50% at 50% 0%, var(--bg-glow) 0%, transparent 50%),
                radial-gradient(ellipse 60% 40% at 80% 100%, rgba(123, 44, 191, 0.15) 0%, transparent 50%),
                var(--bg-deep);
            z-index: -2;
        }

        .share-overlay .orb-clone {
            position: absolute;
            border-radius: 50%;
            filter: blur(80px);
            opacity: 0.4;
            pointer-events: none;
            z-index: -1;
        }

        .share-overlay .orb-clone-1 {
            width: 300px;
            height: 300px;
            background: var(--accent);
            top: 10%;
            left: -5%;
        }

        .share-overlay .orb-clone-2 {
            width: 200px;
            height: 200px;
            background: var(--accent-light);
            bottom: 20%;
            right: -3%;
        }

        .share-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1.5rem;
            max-width: 480px;
            width: 100%;
            z-index: 1;
        }

        .share-headline {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.75rem, 3vw, 1.3rem);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            text-align: center;
            color: var(--white);
            text-shadow: 0 0 30px rgba(224, 170, 255, 0.5);
        }

        .share-subheadline {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: clamp(0.9rem, 2.5vw, 1.1rem);
            font-style: italic;
            color: var(--accent-light);
            margin-top: -0.75rem;
            text-align: center;
        }

        .share-card {
            width: 100%;
            background: var(--glass);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: clamp(1.5rem, 5vw, 2.5rem);
            text-align: center;
        }

        .share-card .message {
            font-family: 'Playfair Display', Georgia, serif;
            font-size: clamp(1.1rem, 3.5vw, 1.5rem);
            line-height: 1.5;
            margin-bottom: 1.25rem;
        }

        .share-card .upgrade-hint {
            border-top: 1px solid var(--glass-border);
            padding-top: 1.25rem;
        }

        .share-card .upgrade-hint strong {
            display: block;
            color: var(--accent-light);
            font-family: 'Syncopate', sans-serif;
            font-size: 0.7rem;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
        }

        .share-card .hint-text {
            font-size: clamp(0.85rem, 2.5vw, 1rem);
            color: rgba(255, 255, 255, 0.7);
        }

        .share-sticker {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--accent), var(--accent-light));
            border-radius: 100px;
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.6rem, 2vw, 0.75rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--white);
            text-decoration: none;
            box-shadow: 0 4px 20px rgba(123, 44, 191, 0.5);
        }

        .share-sticker svg {
            width: 16px;
            height: 16px;
        }

        /* Share modal for download/instructions */
        .share-modal {
            position: fixed;
            inset: 0;
            background: rgba(0, 0, 0, 0.9);
            z-index: 2000;
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: var(--space);
        }

        .share-modal.active {
            display: flex;
        }

        .share-modal-content {
            background: var(--glass);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid var(--glass-border);
            border-radius: var(--radius);
            padding: clamp(1.5rem, 5vw, 2.5rem);
            max-width: 400px;
            width: 100%;
            text-align: center;
        }

        .share-modal h3 {
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.7rem, 2.5vw, 0.9rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            margin-bottom: 1rem;
            color: var(--accent-light);
        }

        .share-modal p {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }

        .share-modal p strong {
            color: var(--accent-light);
        }

        .share-modal-preview {
            width: 100%;
            max-height: 250px;
            object-fit: contain;
            border-radius: calc(var(--radius) / 2);
            margin-bottom: 1rem;
            border: 1px solid var(--glass-border);
        }

        .share-modal-actions {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .share-modal-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.85rem 1.5rem;
            font-family: 'Syncopate', sans-serif;
            font-size: clamp(0.55rem, 1.8vw, 0.65rem);
            font-weight: 700;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            border: none;
            border-radius: 100px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .share-modal-btn.primary {
            background: linear-gradient(135deg, #833ab4, #fd1d1d, #fcb045);
            color: var(--white);
        }

        .share-modal-btn.secondary {
            background: var(--glass);
            color: var(--white);
            border: 1px solid var(--glass-border);
        }

        .share-modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
        }

        .close-modal {
            position: absolute;
            top: 1rem;
            right: 1rem;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--glass);
            border: 1px solid var(--glass-border);
            border-radius: 50%;
            color: var(--white);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .close-modal:hover {
            background: rgba(255, 255, 255, 0.1);
        }
    </style>
</head>
<body>
    <!-- Background layers -->
    <div class="bg-layer"></div>
    <div class="orb orb-1"></div>
    <div class="orb orb-2"></div>
    <div class="orb orb-3"></div>

    <main>
        <section class="scene">
            <h1 class="headline">Unlock your Next Human Upgrade</h1>

            <!-- Initial Card -->
            <article class="card" id="initCard">
                <p class="message" id="msg">Initializing system...<br>Ready for upgrade.</p>
                <div class="upgrade-hint" id="hint" hidden>
                    <strong>Upgrade</strong>
                    <span id="hintText"></span>
                </div>
                <button class="cta" id="cta" type="button">
                    <span>Reveal More</span>
                </button>
                <button class="share-btn" id="shareBtn" type="button">
                    <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                    <span>I initiated my upgrade</span>
                </button>
            </article>

            <!-- Final Stage -->
            <div id="finalStage">
                <div class="panel panel-image">
                    <a href="https://www.youtube.com/@briar_prestidge/podcasts" target="_blank" rel="noopener" aria-label="Hyperscale Podcast">
                        <img src="assets/Final_Landscape.jpg" alt="Futurehuman - Click to visit Hyperscale Podcast" loading="eager">
                    </a>
                </div>
                <div class="panel panel-links">
                    <h2>Want to know how to upgrade yourself further?</h2>
                    <a href="https://open.spotify.com/show/0ysR06vv6dFCBrggJkixZI?si=6a6fdb4e1a954b7a" target="_blank" rel="noopener" class="link">Follow Hyperscale</a>
                    <a href="https://www.instagram.com/briar_prestidge/" target="_blank" rel="noopener" class="link">Follow Briar Prestidge</a>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <span class="footer-label" id="footerLabel">Follow for more</span>
        <nav class="socials">
            <a href="https://briarprestidge.komi.io" target="_blank" rel="noopener" aria-label="Komi">
                <svg viewBox="0 0 40 40" fill="currentColor"><path d="M20 6.67c-7.36 0-13.33 5.97-13.33 13.33S12.64 33.33 20 33.33 33.33 27.36 33.33 20 27.36 6.67 20 6.67zm0 24.44a11.12 11.12 0 01-7.92-3.33l1.62-1.36a1 1 0 00.27-.86l-.78-2.75a1 1 0 00-.26-.48l-1.37-1.47-.21-.35.71-.61 2.76-1.4a1 1 0 00.6-.68l.44-3.04a1 1 0 00-.28-.85l-1.83-1.96-.1-.1-.36-.29a11.08 11.08 0 016.16-1.81l.5.83.65 1.9a1 1 0 00.35.51l2.54 2.04c.2.16.44.25.7.25h.13l3.33-.4a1 1 0 00.42-.15l.8-.45a11.1 11.1 0 01-4.93 15.59z"/><path d="M28.77 20.49l-1.26-2.42a1 1 0 00-.73-.55l-2.62-.63a1 1 0 00-.63.03l-2.47.87a1 1 0 00-.5.43l-1.49 2.19a1 1 0 00.08 1.22l.9 2.29-.56 1.91a1 1 0 00.42 1.08l.73 1.93a1 1 0 00.94.57h.07l2.6-.17a1 1 0 00.69-.3l1.96-1.82a1 1 0 00.26-.38l2.09-4.72a1 1 0 00-.07-.99z"/></svg>
            </a>
            <a href="https://www.linkedin.com/in/briar-prestidge/" target="_blank" rel="noopener" aria-label="LinkedIn">
                <svg viewBox="0 0 40 40" fill="currentColor"><path d="M30.56 30.56h-4.44v-6.96c0-1.66-.03-3.8-2.31-3.8-2.32 0-2.67 1.81-2.67 3.68v7.08h-4.45V16.25h4.27v1.96h.06c.6-1.13 2.05-2.33 4.22-2.33 4.51 0 5.34 2.97 5.34 6.82v7.86zM11.67 14.29a2.58 2.58 0 110-5.16 2.58 2.58 0 010 5.16zm2.22 16.27H9.45V16.25h4.45v14.31zM32.78 5H7.21A2.2 2.2 0 005 7.16v25.67c0 1.2.99 2.17 2.21 2.16h25.56A2.2 2.2 0 0035 32.84V7.16A2.2 2.2 0 0032.78 5z"/></svg>
            </a>
            <a href="https://www.instagram.com/briar_prestidge/" target="_blank" rel="noopener" aria-label="Instagram">
                <svg viewBox="0 0 24 24" fill="currentColor"><path fill-rule="evenodd" d="M7.71 4.02c.2-.02 1.24-.02 4.79-.02h2.77c2 0 2.11.02 2.49.07.82.12 1.51.45 2.07.98.32.3.53.6.73 1 .24.48.36.94.41 1.62.01.15.02 2.48.02 4.81s0 4.67-.01 4.81c-.05.67-.17 1.13-.4 1.61-.46.95-1.3 1.64-2.32 1.9-.37.1-.7.14-1.28.17-.2.01-2.35.01-4.5.01s-4.29-.01-4.5-.02c-.5-.02-.89-.07-1.24-.16a3.34 3.34 0 01-2.29-2.29c-.15-.39-.26-.84-.32-1.55-.02-.2-.02-1.24-.02-4.74 0-.43 0-.83 0-1.19 0-.62 0-1.14 0-1.57.01-2 .02-2.11.08-2.49.12-.84.44-1.52.98-2.08.3-.31.6-.52.98-.71.5-.25.94-.36 1.67-.42zm2.2 2.24c.67-.03.88-.04 2.59-.04s1.91.01 2.58.04c.67.03 1.12.14 1.52.29.42.16.77.38 1.12.72.35.35.56.7.72 1.11.15.4.26.85.29 1.52.03.67.04.88.04 2.59s-.01 1.92-.04 2.59c-.03.67-.14 1.13-.29 1.52-.16.41-.37.77-.72 1.12a3.02 3.02 0 01-1.12.72c-.4.15-.85.26-1.52.29-.67.03-.88.03-2.59.03s-1.91 0-2.59-.03c-.67-.03-1.12-.14-1.52-.29a3.02 3.02 0 01-1.12-.72 3.02 3.02 0 01-.72-1.12c-.16-.4-.26-.85-.29-1.52-.03-.67-.04-.88-.04-2.59s.01-1.92.04-2.59c.03-.67.14-1.12.29-1.52.16-.41.37-.77.72-1.11a3.02 3.02 0 011.12-.72c.4-.15.85-.26 1.52-.29zm2.38 1.1c-.13 0-.25 0-.35 0-.64 0-.87.01-1.45.03-.61.03-1.01.13-1.33.28a2.72 2.72 0 00-1.67 2.54c0 1.67.01 1.9.03 2.48.03.61.13 1 .28 1.33a2.72 2.72 0 002.54 1.66c1.67 0 1.9 0 2.48-.03.61-.03 1.01-.13 1.33-.28a2.72 2.72 0 001.67-2.54c0-1.68-.01-1.9-.03-2.48-.03-.61-.13-1.01-.28-1.33a2.72 2.72 0 00-2.54-1.67c-.07 0-.13 0-.2 0h-.48zm2.8 1.79a.75.75 0 10.75.75.75.75 0 00-.75-.75zM12.5 9.27a3.22 3.22 0 100 6.45 3.22 3.22 0 000-6.45zm0 1.13a2.09 2.09 0 110 4.18 2.09 2.09 0 010-4.18z" clip-rule="evenodd"/></svg>
            </a>
            <a href="https://www.youtube.com/@briar_prestidge" target="_blank" rel="noopener" aria-label="YouTube">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 15l5.19-3L10 9v6zm11.56-7.83c.13.47.22 1.1.28 1.9.07.8.1 1.49.1 2.09L22 12c0 2.19-.16 3.8-.44 4.83-.25.9-.83 1.48-1.73 1.73-.47.13-1.33.22-2.65.28-1.3.07-2.49.1-3.59.1L12 19c-4.19 0-6.8-.16-7.83-.44a2.34 2.34 0 01-1.73-1.73c-.13-.47-.22-1.1-.28-1.9-.07-.8-.1-1.49-.1-2.09L2 12c0-2.19.16-3.8.44-4.83.25-.9.83-1.48 1.73-1.73a14.1 14.1 0 012.65-.28c1.3-.07 2.49-.1 3.59-.1L12 5c4.19 0 6.8.16 7.83.44.9.25 1.48.83 1.73 1.73z"/></svg>
            </a>
            <a href="https://twitter.com/briarprestidge" target="_blank" rel="noopener" aria-label="X/Twitter">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M13.86 10.47L21.15 2h-1.73l-6.32 7.35L8.04 2H2.22l7.64 11.12L2.22 22h1.72l6.69-7.77 5.33 7.77h5.83l-7.93-11.53zm-2.37 2.75l-.77-1.1L4.56 3.3h2.65l4.97 7.11.78 1.1 6.46 9.24h-2.65l-5.27-7.54z"/></svg>
            </a>
            <a href="https://www.tiktok.com/@briarprestidge" target="_blank" rel="noopener" aria-label="TikTok">
                <svg viewBox="0 0 40 40" fill="currentColor"><path fill-rule="evenodd" d="M26.12 15.22c1.94 1.39 4.32 2.2 6.88 2.2v-3.88a6.88 6.88 0 01-3.65-1.09c-1.63-1.02-2.8-2.7-3.15-4.67H22.6v19.7c-.01 2.3-1.87 4.16-4.17 4.16-1.36 0-2.56-.65-3.32-1.65a4.17 4.17 0 01-1.08-2.78c0-2.3 1.87-4.17 4.18-4.17.44 0 .87.07 1.27.2v-3.87c-4.95.1-8.93 4.15-8.93 9.11 0 2.48.99 4.73 2.6 6.38 1.45.97 3.2 1.54 5.08 1.54 5.04 0 9.12-4.08 9.12-9.12V15.22z" clip-rule="evenodd"/><path fill-rule="evenodd" d="M33 13.54v-1.05c-1.3 0-2.56-.36-3.65-1.04a6.85 6.85 0 003.65 2.09zm-6.8-5.76c-.03-.18-.06-.37-.08-.57V6.59h-4.51v19.7c-.01 2.3-1.87 4.16-4.17 4.16-.63 0-1.23-.14-1.77-.4.75 1 1.94 1.65 3.3 1.65 2.3 0 4.16-1.86 4.17-4.16V7.78h2.85c.01.07.1.92.21 1.57zM18.25 17.38v-1.12c-.42-.06-.84-.09-1.26-.09-5.04 0-9.13 4.08-9.13 9.12 0 3.16 1.6 5.94 4.04 7.58-1.61-1.64-2.6-3.9-2.6-6.37 0-4.97 3.98-9.01 8.93-9.12z" clip-rule="evenodd"/></svg>
            </a>
        </nav>
    </footer>

    <!-- Share Overlay (for screenshot capture) -->
    <div class="share-overlay" id="shareOverlay">
        <div class="bg-layer-clone"></div>
        <div class="orb-clone orb-clone-1"></div>
        <div class="orb-clone orb-clone-2"></div>
        <div class="share-content" id="shareContent">
            <h1 class="share-headline">Unlock Your Next Human Upgrade</h1>
            <p class="share-subheadline">I initiated my upgrade</p>
            <div class="share-card">
                <p class="message" id="shareMsg"></p>
                <div class="upgrade-hint">
                    <strong>Upgrade</strong>
                    <span class="hint-text" id="shareHint"></span>
                </div>
            </div>
            <div class="share-sticker">
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                <span>Initiate yours today</span>
                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
            </div>
        </div>
    </div>

    <!-- Share Modal -->
    <div class="share-modal" id="shareModal">
        <button class="close-modal" id="closeModal" type="button">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M18 6L6 18M6 6l12 12"/></svg>
        </button>
        <div class="share-modal-content">
            <h3>Almost there!</h3>
            <img class="share-modal-preview" id="sharePreview" src="" alt="Your upgrade screenshot">
            <p id="modalInstructions">Tap below to save & open Instagram Stories</p>
            <div class="share-modal-actions">
                <button class="share-modal-btn primary" id="downloadBtn" type="button">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                    <span>Save & Open Instagram</span>
                </button>
                <button class="share-modal-btn secondary" id="closeModalBtn" type="button">
                    <span>Close</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        const upgrades = [
            { msg: "You're overwhelmed by information but desperately addicted to the distraction it provides.", hint: "Unfollow ten sources that provide noise and not nourishment. Do it now." },
            { msg: "We treat our attention as an infinite resource, and nothing important ever seems to get done.", hint: "Decide on the three things that will get your undivided attention tomorrow. Everything else is a distraction." },
            { msg: "There's a strange belief that every problem must be solved immediately which ensures you're always solving the wrong problem.", hint: "Pick one decision and do nothing about it for a day. Let your subconscious do the heavy lifting." },
            { msg: "We spend too much time formulating opinions and too little crafting the questions that actually lead to a better one.", hint: "In your next conversation, ask one genuinely curious question instead of offering opinions." },
            { msg: "We've become digital hoarders to build a library of wisdom, but we're just adding to our anxiety.", hint: "Go to your 'saved' folder on any platform. Delete the oldest things in it without re-reading it." },
            { msg: "We love to announce self-improvement to avoid boring, repetitive work that actually creates change.", hint: "Pick one tiny positive habit. Do it again today. Don't tell anyone." },
            { msg: "There's a human tendency to “improve” by adding more steps than having the courage to simply remove the silly bits.", hint: "Find one routine you perform daily. Remove one step from it. See if anyone notices or anything breaks. " },
            { msg: "We guard our money with our lives but give away our time and energy to anyone who asks nicely enough.", hint: "Find one commitment in the next week that fills you with a sense of dread. Cancel it." },
            { msg: "Time is not a thing to be 'managed' and 'saved'. The only thing you can manage is what you do within it.", hint: "Choose one thing today to do 10% slower and with absurdly high quality." },
            { msg: "Having an immediate opinion on every trend is a surefire way to have an opinion on nothing that matters.", hint: "Notice the most talked-about thing in the news today and decide to have no opinion on it whatsoever." },
            { msg: "A stable sense of self is not a virtue. The most interesting people are in a constant state of quiet self-revision.", hint: "Do one small thing today that doesn't fit the expectation you've built for yourself." },
            { msg: "Style is not something you add. The most elegant people are masters of simplification.", hint: "Look at what you're wearing. Remove one accessory." },
            { msg: "Our default way of carrying ourselves is a less confident version of who we could be.", hint: "For the next hour walk as though you are 5% taller. See how that makes you feel." },
            { msg: "Softening our truths to make them more palatable makes them less useful.", hint: "In your next conversation, state one of your opinions directly, without apologies or softening clauses." },
            { msg: "We spend a lot of time around people who are a reflection of who we are, not who we want to become.", hint: "Identify one person who represents your future. Find a way to be in their orbit this month." },
            { msg: "It's easy to make decisions based on the next ten minutes but difficult for the next ten years.", hint: "Make one small decision today that is an explicit gift to your future self." },
            { msg: "There is no reason to be embarrassed about what you want.", hint: "Write down one thing you deeply want without any caveats to its practicality or deserving it." },
            { msg: "We let our own standards slip but are deeply offended when other people fail to meet them.", hint: "Pick one small, personal standard of excellence. Hold yourself to it with rigor for the rest of the week." },
            { msg: "What screams for our immediate attention will not matter in a decade. Our brains are just terrible at telling the difference.", hint: "Look at your to-do list. Find the task that serves your 10-year future. Do that one first." },
            { msg: "We have a strange loyalty to our past selves, as though we owe them something. We don't.", hint: "Consciously break one of your old, outdated habits today." },
            { msg: "People with the most influence are often the ones who have mastered the art of shutting up.", hint: "In your next meeting, listen to the point where you feel you absolutely must speak. Then wait ten more seconds." },
            { msg: "If your being 'nice' means being infinitely available, you're of no real use to anyone.", hint: "Say 'no' to one small, perfectly reasonable request today, without a lengthy explanation." },
            { msg: "Every thought is not a matter of public record, requiring an immediate response.", hint: "Choose one non-urgent message. Consciously decide you will never reply to it." },
            { msg: "Stop collecting connections like stamps. Cultivate the few that actually provide value.", hint: "Send one, genuinely thoughtful message to someone who represents your future, not your past." },
            { msg: "The human brain is a conformity machine. It's a wonderful talent for surviving in a tribe but a terrible one for doing anything interesting.", hint: "Find one small, harmless way to break a social script today." }

        ];

        let step = 0;

        const msgEl = document.getElementById('msg');
        const hintEl = document.getElementById('hint');
        const hintText = document.getElementById('hintText');
        const cta = document.getElementById('cta');
        const initCard = document.getElementById('initCard');
        const finalStage = document.getElementById('finalStage');
        const footerLabel = document.getElementById('footerLabel');
        
        // Share elements
        const shareBtn = document.getElementById('shareBtn');
        const shareOverlay = document.getElementById('shareOverlay');
        const shareContent = document.getElementById('shareContent');
        const shareMsg = document.getElementById('shareMsg');
        const shareHint = document.getElementById('shareHint');
        const shareModal = document.getElementById('shareModal');
        const sharePreview = document.getElementById('sharePreview');
        const downloadBtn = document.getElementById('downloadBtn');
        const closeModal = document.getElementById('closeModal');
        const closeModalBtn = document.getElementById('closeModalBtn');
        
        let currentUpgrade = null;

        function pickRandomUpgrade() {
            const i = Math.floor(Math.random() * upgrades.length);
            return upgrades[i];
        }
        
        // Share to Instagram functionality
        const KOMI_LINK = 'https://briarprestidge.komi.io';
        
        async function copyLinkToClipboard() {
            try {
                await navigator.clipboard.writeText(KOMI_LINK);
                return true;
            } catch (err) {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = KOMI_LINK;
                textArea.style.position = 'fixed';
                textArea.style.left = '-9999px';
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    return true;
                } catch (e) {
                    document.body.removeChild(textArea);
                    return false;
                }
            }
        }
        
        async function captureAndShare() {
            if (!currentUpgrade) return;
            
            // Copy link to clipboard immediately
            const linkCopied = await copyLinkToClipboard();
            
            // Populate share overlay with current quote
            shareMsg.textContent = currentUpgrade.msg;
            shareHint.textContent = currentUpgrade.hint;
            
            // Show share overlay for capture
            shareOverlay.classList.add('active');
            
            // Wait for render
            await new Promise(r => setTimeout(r, 100));
            
            try {
                // Capture the full viewport
                const canvas = await html2canvas(shareOverlay, {
                    backgroundColor: '#050505',
                    scale: 2,
                    useCORS: true,
                    logging: false,
                    width: window.innerWidth,
                    height: window.innerHeight
                });
                
                // Hide overlay
                shareOverlay.classList.remove('active');
                
                // Convert canvas to blob for sharing
                const blob = await new Promise(resolve => canvas.toBlob(resolve, 'image/png'));
                const file = new File([blob], 'my-upgrade.png', { type: 'image/png' });
                
                // Check if Web Share API is available (mobile devices)
                if (navigator.canShare && navigator.canShare({ files: [file] })) {
                    try {
                        await navigator.share({
                            files: [file],
                            title: 'I initiated my upgrade',
                            text: 'Initiate yours today → ' + KOMI_LINK,
                            url: KOMI_LINK
                        });
                        return; // Success - native share completed
                    } catch (shareErr) {
                        // User cancelled or share failed, fall through to fallback
                        if (shareErr.name === 'AbortError') return;
                    }
                }
                
                // Fallback for desktop or if Web Share fails
                const dataUrl = canvas.toDataURL('image/png');
                sharePreview.src = dataUrl;
                
                // Detect if mobile
                const isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
                const modalInstructions = document.getElementById('modalInstructions');
                
                const clipboardMsg = linkCopied ? '<br><strong style=\"color: var(--accent-light);\">✓ Link copied to clipboard!</strong>' : '';
                
                if (isMobile) {
                    modalInstructions.innerHTML = 'Tap below to save & open Instagram. Paste the link in your Story using the Link Sticker!' + clipboardMsg;
                } else {
                    modalInstructions.innerHTML = 'Save the image, then upload it to your Instagram Story. Paste the link in your Link Sticker!' + clipboardMsg;
                }
                
                shareModal.classList.add('active');
                
                // Download and open Instagram button
                downloadBtn.onclick = async () => {
                    // Copy link again just before action
                    await copyLinkToClipboard();
                    
                    // Save the image
                    const link = document.createElement('a');
                    link.download = 'my-upgrade-' + Date.now() + '.png';
                    link.href = dataUrl;
                    link.click();
                    
                    // On mobile, try to open Instagram after a short delay
                    if (isMobile) {
                        setTimeout(() => {
                            // Try Instagram Stories camera deep link
                            window.location.href = 'instagram://story-camera';
                            
                            // Fallback to regular Instagram if deep link fails
                            setTimeout(() => {
                                window.location.href = 'instagram://app';
                            }, 1500);
                        }, 500);
                    }
                    
                    // Close modal after action
                    setTimeout(() => {
                        shareModal.classList.remove('active');
                    }, 1000);
                };
                
            } catch (err) {
                console.error('Screenshot failed:', err);
                shareOverlay.classList.remove('active');
                alert('Could not capture screenshot. Please try again.');
            }
        }
        
        // Event listeners for share functionality
        shareBtn.addEventListener('click', captureAndShare);
        
        closeModal.addEventListener('click', () => {
            shareModal.classList.remove('active');
        });
        
        closeModalBtn.addEventListener('click', () => {
            shareModal.classList.remove('active');
        });
        
        // Close modal on backdrop click
        shareModal.addEventListener('click', (e) => {
            if (e.target === shareModal) {
                shareModal.classList.remove('active');
            }
        });

        function animate(el, out) {
            el.style.transition = 'opacity 0.4s ease, transform 0.4s ease';
            el.style.opacity = out ? 0 : 1;
            el.style.transform = out ? 'translateY(-8px)' : 'translateY(0)';
        }

        cta.addEventListener('click', () => {
            cta.disabled = true;
            
            animate(msgEl, true);
            if (!hintEl.hidden) animate(hintEl, true);

            setTimeout(() => {
                step++;
                
                if (step === 1) {
                    // First click: show one random fortune
                    currentUpgrade = pickRandomUpgrade();
                    msgEl.textContent = currentUpgrade.msg;
                    hintText.textContent = currentUpgrade.hint;
                    hintEl.hidden = false;
                    
                    animate(msgEl, false);
                    animate(hintEl, false);
                    cta.disabled = false;
                    
                    // Show share button
                    shareBtn.classList.add('visible');
                } else {
                    // Second click: show final stage
                    initCard.classList.add('hidden');
                    finalStage.classList.add('visible');
                    footerLabel.classList.add('hidden');
                }
            }, 450);
        });
    </script>
</body>
</html>
